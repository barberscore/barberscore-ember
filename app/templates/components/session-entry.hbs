<section id="entry-detail">
  <div class='card'>
    <div class='card-header'>
      {{prev-next model=model sortedArray=sortedEntries}}
      <h4>
        {{model.group.name}}&nbsp;({{model.representing}}){{#if model.prelim}}&nbsp;&mdash;&nbsp;{{single-fixed model.prelim}}{{/if}}&nbsp;{{#if model.group.isSenior}}<span class="badge badge-warning">Seniors</span>{{/if}}&nbsp;{{#if (eq model.group.status 'Active')}}<span class="badge badge-success">Active</span>{{else}}<span class="badge badge-danger">Inactive</span>{{/if}}
      </h4>
    </div>
    <div class='card-body'>
      <section>
        <div class='row'>
          <div class='col-md-6'>
            {{#if model.group.image}}
              <img src={{model.group.image}} class='img-fluid rounded'>
            {{else}}
              <img src='/assets/no_image_available.jpg' class='img-fluid rounded'>
            {{/if}}
          </div>
          <div class='col-md-6'>
            <p>
              <strong>Preferences</strong>
            </p>
            <p>
              {{entry-preferences model=model}}
            </p>
          </div>
        </div>
      </section>
      <hr>
      <section>
        <p>
          <strong>Contests Entered: {{model.includedContestantsCount}}</strong>
        </p>
        <p>
          {{entry-contestants model=model}}
        </p>
      </section>
      <hr>
      <section>
        <p>
          Group Officers:
          {{#bs-button class='btn' size='xs' onClick=(toggle 'officersCollapsed' this)}}
            {{if officersCollapsed 'Show' 'Hide'}}
          {{/bs-button}}
        </p>
        {{#bs-collapse collapsed=officersCollapsed}}
          {{group-officers model=model.group}}
        {{/bs-collapse}}
      </section>
      <hr>
      <section>
        <p>
          Group Members:
          {{#bs-button class='btn' size='xs' onClick=(toggle 'membersCollapsed' this)}}
            {{if membersCollapsed 'Show' 'Hide'}}
          {{/bs-button}}
        </p>
        {{#bs-collapse collapsed=membersCollapsed}}
          {{group-members model=model.group}}
        {{/bs-collapse}}
      </section>
      <hr>
      <section>
        <p>
          Repertory Songs:
          {{#bs-button class='btn' size='xs' onClick=(toggle 'repertoriesCollapsed' this)}}
            {{if repertoriesCollapsed 'Show' 'Hide'}}
          {{/bs-button}}
        </p>
        {{#bs-collapse collapsed=repertoriesCollapsed}}
          {{group-repertories model=model.group}}
        {{/bs-collapse}}
      </section>
      <hr>
      <section>
        <div class='row'>
          <div class='col-md-6'>
            <p>
              Additional Notes:
            </p>
            <p>
              {{entry-description model=model}}
            </p>
          </div>
        </div>
      </section>
      <hr>
      <section>
        {{model-statelogs model=model}}
      </section>
    </div>
    <div class='card-footer'>
      <ul class='list-inline'>
        {{#if (eq model.status 'New')}}
          <li class='list-inline-item'>{{entry-delete model=model callback='dashboard.conventions.convention.sessions.session.entries'}}</li>
        {{else if (eq model.status 'Built')}}
          {{#if model.session.isInvitational}}
            <li class='list-inline-item'>{{entry-invite model=model}}</li>
          {{else}}
            <li class='list-inline-item'>{{entry-approve model=model}}</li>
          {{/if}}
          <li class='list-inline-item'>{{entry-delete model=model callback='dashboard.conventions.convention.sessions.session.entries'}}</li>
        {{else if (eq model.status 'Invited')}}
          <li class='list-inline-item'>{{entry-submit model=model}}</li>
          <li class='list-inline-item'>{{entry-withdraw model=model}}</li>
        {{else if (eq model.status 'Submitted')}}
          <li class='list-inline-item'>{{entry-approve model=model}}</li>
          <li class='list-inline-item'>{{entry-withdraw model=model}}</li>
        {{else if (eq model.status 'Approved')}}
          <li class='list-inline-item'>{{entry-approve model=model}}</li>
          <li class='list-inline-item'>{{entry-withdraw model=model}}</li>
        {{else if (eq model.status 'Withdrawn')}}
          <li class='list-inline-item'>{{entry-approve model=model}}</li>
        {{else if (eq model.status 'Scratched')}}
          <li class='list-inline-item'>{{entry-approve model=model}}</li>
        {{/if}}
        <li class='list-inline-item float-right'><h4>Entry Status: <strong>{{model.status}}</strong></h4></li>
      </ul>
    </div>
  </div>
</section>
